<div class="money-page">
  <div class="money-container">
    <div class="header">
      <h2>{{ destinatario }}</h2>
    </div>

    <div class="card-section">
      <p class="section-title">Pagar com</p>
      <div class="card-selector">
        <div class="selected-card" (click)="alternarDropdown($event)">
          <img [src]="'assets/' + cartaoSelecionado.imagem" 
               alt="{{cartaoSelecionado.tipo}}"
               class="card-logo">
          <div class="card-info">
            <span class="card-name">{{cartaoSelecionado.tipo}} terminando em {{cartaoSelecionado.final}}</span>
            <button class="toggle-saldo" (click)="alternarSaldo($event)">
              {{mostrarSaldo ? 'Ocultar saldo' : 'Mostrar saldo'}}
            </button>
          </div>
          <span class="dropdown-icon">{{ mostrarDropdown ? '▲' : '▼' }}</span>
        </div>
        
        <div *ngIf="mostrarSaldo" class="saldo-info">
          <p><span class="label">Saldo disponível:</span> R$ {{cartaoSelecionado.saldo | number:'1.2-2'}}</p>
          <p><span class="label">Limite:</span> R$ {{cartaoSelecionado.limite | number:'1.2-2'}}</p>
        </div>

        <div class="dropdown-menu" *ngIf="mostrarDropdown">
          <div *ngFor="let cartao of cartoes" 
               (click)="selecionarCartao(cartao, $event)"
               class="dropdown-item">
            <img [src]="'assets/' + cartao.imagem" 
                 alt="{{cartao.tipo}}"
                 class="card-logo-small">
            <div class="dropdown-info">
              <span class="card-type">{{cartao.tipo}} terminando em {{cartao.final}}</span>
              <span class="card-balance">Saldo: R$ {{cartao.saldo | number:'1.2-2'}}</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="amount-section">
      <h3 class="section-title">Valor</h3>
      <div class="amount-input-container">
        <span class="currency-symbol">R$</span>
        <input type="text" 
               [ngModel]="valorTransferencia"
               (ngModelChange)="formatarValor($event)"
               class="amount-input"
               placeholder="0,00">
      </div>
      
      <div class="quick-amounts">
        <button *ngFor="let valor of valoresRapidos" 
                (click)="selecionarValorRapido(valor)"
                class="quick-amount-btn">
          R$ {{valor}}
        </button>
      </div>
    </div>

    <div *ngIf="errorMessage" class="error-message">
      {{ errorMessage }}
    </div>

    <button class="transfer-btn" 
            (click)="transferir()"
            [disabled]="!valorTransferencia || getValorNumerico() <= 0">
      Transferir Dinheiro
    </button>
  </div>
</div>